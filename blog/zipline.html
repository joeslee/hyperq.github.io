<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>zipline</title>
    <link rel="stylesheet" type="text/css" href="../style/css/scarce.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="generator" content="o-blog version 1.2-149-g73e41e0"/>

<script src="../style/js/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="../style/bootstrap/js/bootstrap-modal.js" type="text/javascript"></script>
<script src="../style/bootstrap/js/bootstrap-transition.js" type="text/javascript"></script>
<script src="../style/bootstrap/js/bootstrap-dropdown.js" type="text/javascript"></script>
<script src="../style/bootstrap/js/bootstrap-collapse.js" type="text/javascript"></script>
<script src="../style/js/prettify.js" type="text/javascript"></script>
<script src="../style/js/o-blog.linenumber.js" type="text/javascript"></script>
<script src="../style/js/o-blog-fix.js" type="text/javascript"></script>
<script src="../style/js/scarce.js" type="text/javascript"></script>
<script src="../style/js/twitter-bootstrap-hover-dropdown.js" type="text/javascript"></script>



<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22236293-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Le fav and touch icons -->
<link rel="shortcut icon" href="../favicon.ico?v=2">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../style/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../style/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../style/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="../style/ico/apple-touch-icon-57-precomposed.png">

</head>
<body>

<div class="container">
  <div class="navbar navbar-inverse">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-hover=".nav-collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a class="brand" href="../index.html">hyperq</a>
      <div class="nav-collapse collapse">
          <ul class="nav">
   <li>
     <a href="../about.html"><i>icon-user icon-white</i> About</a>
   </li>
   <li>
  <a class="caret-before" href="../blog/trading-a-hacker-approach.html">
       <i class="icon-coffee icon-white">
       </i>
       Blog
     </a>
  </li>
   <li class="dropdown">
 <a class="dropdown-toggle caret-after" data-toggle="dropdown" data-hover="dropdown" data-delay="2000">
 </a>
     <ul class="dropdown-menu">


<li><a href="../blog/trading-a-hacker-approach.html">Trading: a hacker approach?</a></li><li><a href="../blog/event-feed-design.html">Event Feed Design</a></li><li><a href="../blog/hyperq.html">hyperq</a></li><li><a href="../blog/zipline.html">zipline</a></li>

  </ul>

  </li>
  <li><a href="https://github.com/hyperq/hyperq"><i>icon-github icon-white</i>repo</a>

  </li>
  <li><a href="../tags.html"><i>icon-tags icon-white</i> Tags</a>

  </li>
  <li><a href="../archives.html"><i>icon-list icon-white</i> Archives</a>

  </li>
  <li><a href="../index.xml"><i>icon-rss icon-white</i> RSS</a>
  </li>
  <li><a href="http://scarcecapital.com"><i>icon-home icon-white</i> scarce,</a>
  </li>

  </ul>

      </div>
    </div>
  </div>
</div>

</div>

<div id="page">
  <div class="row">    
    <div class="arrow_nav top">
      <a class="previous skiphover" href="../blog/project-news-april-232013.html">
                                    <span class="symbol">
                                    </span>
                                    <span class="label">
                                       older
                                    </span>
                                    <span class="tooltip">
                                      Project News April 23,2013
                                    </span>
                                 </a>
      <div class="sepline"></div>
      <a class="previous skiphover" href="../blog/hyperq.html">
                                    <span class="label">
                                       newer
                                    </span>
                                    <span class="symbol">
                                       >
                                    </span>                                      
                                    <span class="tooltip">
                                      hyperq
                                    </span>
                                 </a>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span9">
      <article>
        <header class="article-header">
          <h1 class="post-header">zipline</h1>
          <h3 class="date-header">Chris Mahon</h3>
          <h3 class="date-header">23 April 2013</h3>
        </header>
        <div class="article-content">
          <p>
Zipline is an open-source project that is a candidate for collaboration and
other synergies with hyperq.
</p>

<p>
Zipline is the open-source backtesting engine (written in Python) underlying
Quantopian, an online trading systems development IDE (again, Python-based)
and community. Quantopian offers 10 years of 1min data for US stocks and the
backtesting IDE for free but they plan to generate income from a future
facility for automating live trade execution.
</p>

<p>
<a href="https://www.quantopian.com/faq">https://www.quantopian.com/faq</a>
<a href="https://www.quantopian.com/help">https://www.quantopian.com/help</a>
<a href="https://github.com/quantopian/zipline/blob/master/README.md">https://github.com/quantopian/zipline/blob/master/README.md</a>
</p>

<p>
To use the zipline engine, you basically create a Python class that subclasses
zipline's TradingAlgorithm base class and implement 2 methods, one to
initialize() data at the start of strategy execution and and another,
handle_data(), to react to data events (e.g. buy on MA crossover) which are
typically OHLCV bars but could be of other types such as ticks, corporate
actions, etc. A strategy is executed by calling the trading algorithm's run()
method and passing in a data source. Various backtesting metrics are returned
by the run() method.
</p>

<p>
Base functionality includes:
</p>
<ul class="org-ul">
<li>Loaders for retrieving data from local files, online sources such as yahoo
(no live data feeds - data is downloaded in its entirety prior to strategy
execution) and the US treasury website for risk-free rates used in metrics
such as the Sharpe ratio
</li>

<li>Multiple symbols can be tracked within a dataset and referenced in a single
strategy execution
</li>

<li>A few basic technical indicators out of the box such as simple moving
average, returns, standard deviation of prices and VWAP
</li>

<li>Data is provisioned to the strategy via events on the backtest timeline to
reflect live trading and reduce the scope for future data snooping
</li>

<li>Only market orders supported - no doubt limit and stop orders are planned as
a future enhancement
</li>

<li>Trade execution includes 2 slippage models and a basic commission calc
</li>

<li>No order book model
</li>

<li>A portfolio of holdings can be accumulated and tracked
</li>

<li>A variety of metrics are calculated cumulatively and per-period (daily basis
if intraday bars are used) e.g. strategy and benchmark (defaults to SPX)
returns, drawdown, sharpe ratio, sortino ratio, etc
</li>

<li>Mainly focused on stocks for the time being e.g. the concept of end of
trading day seems to be important vs day continuous trading of forex and
overnight trading of futures, no margin trading
</li>

<li>Of course there's plenty of scope to extend the base functionality through
custom code - this may be more constrained in the IDE than in a local
development environment.
</li>

<li>Trading system optimization isn't supported yet but appears to be an active
area of research for a future enhancement. One of the developers gave a talk
at the recent PyData conference about using IPython Parallel, StarCluster,
etc. to spawn multiple parallel workers in the cloud as well as covering
techniques to efficiently search the parameter space including a Bayesian
approach for identifying high probability regions to maximize the objective
function.

<p>
<a href="http://vimeo.com/63273425">http://vimeo.com/63273425</a>
</p>
</li>
</ul>


<p>
The gist below is a first pass through the codebase tracking the call stack
and classes/objects involved in the execution of the trading algorithm run()
method for the supplied dual moving average sample strategy and recorded the
main features in a single file. This is useful to quickly refresh memory
of the code flow rather than wading though multiple source files.
</p>

<p>
<a href="https://gist.github.com/cmahon/e72e0e08de2986c2180d">https://gist.github.com/cmahon/e72e0e08de2986c2180d</a>
</p>

        </div>
      </article>
    </div>  
    <div class ="span3">
      <div id="sidebar">
      <a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
      <!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-annotation="bubble" data-size="medium" data-width="300"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<div class="get-scarce">
      <p>feeds:   <a href="https://twitter.com/hyperq_">Twitter</a> | <a href="../index.xml">RSS</a> | <a href="http://eepurl.com/xZDev">Email</a>
      </p>
</div>


    <p>
      Top Posts:
      
    </p>
    <a class="postlink" href="../blog/event-feed-design.html">Event Feed Design</a><br><a class="postlink" href="../blog/signal-prediction.html">Signal Prediction</a><br><a class="postlink" href="../blog/statistical-forecasting.html">Statistical Forecasting</a><br><a class="postlink" href="../blog/latency-research.html">Latency Research</a>
    
</div>

    </div>
  </div>
  <div class="row-fluid">
      <div class="span9">
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'scarce'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>

  <hr>
<div id="footer">
  <div class="copyright" style="text-align: center;">
    Copyright <a href="http://github.com/hyperq">hyperq</a> 2013-2013

<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this work except in compliance with the License.
You may obtain a copy of the License in the LICENSE file, or at:</p>

<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>

  </div>  
  <p>
    Powered by
    <a href="http://twitter.github.com/bootstrap/">bootstrap</a>
     via 
    <a href="https://github.com/renard/o-blog">o-blog</a>.
  </p>
</div>

</div>
</body>
</html>
